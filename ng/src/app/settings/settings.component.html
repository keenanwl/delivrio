<ng-container *ngIf="app$|async; let app">
	<h1>Settings</h1>
	<div class="panel-container">
		<mat-tree class="left-panel navigation example-tree" [dataSource]="dataSource" [treeControl]="treeControl">
			<!-- This is the tree node template for leaf nodes -->
			<!-- There is inline padding applied to this node using styles.
			  This padding value depends on the mat-icon-button width. -->
			<mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
				<mat-nav-list class="full-width">
					<mat-list-item class="menu-item" [routerLink]="app?.buildInfo?.LimitedSystem && node.limitedDisabled ? null : node.uri" [routerLinkActive]="'link-active'">
						<a [routerLink]="">
							<mat-icon *ngIf="app?.buildInfo?.LimitedSystem && node.limitedDisabled">lock</mat-icon>
							<span class="item-text">
								{{node.name}}
							</span>
						</a>
					</mat-list-item>
				</mat-nav-list>
			</mat-tree-node>
			<!-- This is the tree node template for expandable nodes -->
			<mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
				<div class="mat-tree-node">
					<mat-nav-list>
						<mat-list-item [routerLinkActive]="'link-active'">
							<a [routerLink]="node.uri">
								<button mat-icon-button matTreeNodeToggle
										[attr.aria-label]="'Toggle ' + node.name">
									<mat-icon class="mat-icon-rtl-mirror">
										{{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
									</mat-icon>
								</button>
								{{node.name}}
							</a>
						</mat-list-item>
					</mat-nav-list>
				</div>
				<!-- There is inline padding applied to this div using styles.
					This padding value depends on the mat-icon-button width.  -->
				<div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
					 role="group">
					<ng-container matTreeNodeOutlet></ng-container>
				</div>
			</mat-nested-tree-node>
		</mat-tree>
		<div class="right-panel">
			<router-outlet></router-outlet>
		</div>
	</div>
</ng-container>
