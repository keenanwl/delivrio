<app-dvo-card *ngIf="consolidationEdit$|async; let state">
	<div class="address-information">
		<div class="column">
			<h3>Recipient</h3>
			<ng-container [formGroup]="addressForm">
				<div class="row right-margin">
					<mat-form-field>
						<mat-label>First name</mat-label>
						<input formControlName="firstName" matInput/>
						<mat-error *ngIf="addressForm.controls.firstName.invalid">
							{{addressForm.controls.firstName.errors}}
						</mat-error>
					</mat-form-field>
					<mat-form-field>
						<mat-label>Last name</mat-label>
						<input formControlName="lastName" matInput/>
						<mat-error *ngIf="addressForm.controls.lastName.invalid">
							{{addressForm.controls.lastName.errors}}
						</mat-error>
					</mat-form-field>
				</div>
				<div class="row right-margin">
					<mat-form-field>
						<mat-label>Address 1</mat-label>
						<input formControlName="addressOne" matInput/>
						<mat-error *ngIf="addressForm.controls.addressOne.invalid">
							{{addressForm.controls.addressOne.errors}}
						</mat-error>
					</mat-form-field>
					<mat-form-field>
						<mat-label>Address 2</mat-label>
						<input formControlName="addressTwo" matInput/>
						<mat-error *ngIf="addressForm.controls.addressTwo.invalid">
							{{addressForm.controls.addressTwo.errors}}
						</mat-error>
					</mat-form-field>
				</div>
				<div class="row right-margin">
					<mat-form-field>
						<mat-label>Company</mat-label>
						<input formControlName="company" matInput/>
						<mat-error *ngIf="addressForm.controls.company.invalid">
							{{addressForm.controls.company.errors}}
						</mat-error>
					</mat-form-field>
					<mat-form-field>
						<mat-label>Postal code</mat-label>
						<input formControlName="zip" matInput/>
						<mat-error *ngIf="addressForm.controls.zip.invalid">
							{{addressForm.controls.zip.errors}}
						</mat-error>
					</mat-form-field>
				</div>
				<div class="row right-margin">
					<mat-form-field>
						<mat-label>City</mat-label>
						<input formControlName="city" matInput/>
						<mat-error *ngIf="addressForm.controls.city.invalid">
							{{addressForm.controls.city.errors}}
						</mat-error>
					</mat-form-field>
					<mat-form-field>
						<mat-label>State</mat-label>
						<input formControlName="state" matInput/>
						<mat-error *ngIf="addressForm.controls.state.invalid">
							{{addressForm.controls.state.errors}}
						</mat-error>
					</mat-form-field>
				</div>
				<div class="row right-margin">
					<mat-form-field class="country-field">
						<mat-label>Country</mat-label>
						<!-- Misuse of the form control in order to display errors -->
						<mat-chip-grid #chipList [errorStateMatcher]="countryErr" [formControl]="dummyFormCtrl">
							<mat-chip-row color="primary">
								{{addressForm.controls.country.controls.label.value}}
								({{addressForm.controls.country.controls.alpha2.value}})
							</mat-chip-row>
						</mat-chip-grid>
						<input placeholder="Type to search..."
							   #countryInput
							   [matAutocomplete]="countriesAutoRecipient"
							   [matChipInputFor]="chipList"
							   (keyup)="searchCountries(countryInput.value)">
						<mat-autocomplete #countriesAutoRecipient="matAutocomplete" (optionSelected)="countryInput.value = ''; changeCountry($event.option.value)">
							<mat-option *ngFor="let country of state.searchCountries" [value]="country">
								{{country.label}} ({{country.alpha2}})
							</mat-option>
						</mat-autocomplete>
						<mat-error>
							{{dummyFormCtrl.errors}}
						</mat-error>
					</mat-form-field>
				</div>
				<div class="row right-margin">
					<mat-form-field>
						<mat-label>Phone #</mat-label>
						<input formControlName="phoneNumber" matInput/>
						<mat-error *ngIf="addressForm.controls.phoneNumber.invalid">
							{{addressForm.controls.phoneNumber.errors}}
						</mat-error>
					</mat-form-field>
					<mat-form-field>
						<mat-label>Email</mat-label>
						<input formControlName="email" matInput/>
						<mat-error *ngIf="addressForm.controls.email.invalid">
							{{addressForm.controls.email.errors}}
						</mat-error>
					</mat-form-field>
				</div>
			</ng-container>
		</div>
	</div>
	<div class="action-row">
		<button mat-stroked-button color="primary" (click)="save()">
			<mat-icon>done</mat-icon>
			Save
		</button>
		<button mat-stroked-button (click)="close()">
			<mat-icon>cancel</mat-icon>
			Close
		</button>
	</div>
</app-dvo-card>
